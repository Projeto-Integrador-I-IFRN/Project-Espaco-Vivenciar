{% extends "base/base_home_atendente.html" %}
{% load static %}

{% block solicitacoes_atendente %}
<div class="container">
    <div class="card-list">
        <div class="title">
            <h1>Agenda - Fisioterapeuta</h1>
        </div>

        <ul class="tab-menu">
            <li class="tab-item active" data-tab="agendamentos">
                <p class="count count-agendamentos">10</p>
                <p>Agendamentos</p>
            </li>
            <li class="tab-item" data-tab="solicitacoes">
                <p class="count count-solicitacoes">3</p>
                <p>Solicitações</p>
            </li>
            
        </ul>

        

        <div class="tab-content tab-content-agendamentos active" id="agendamentos">
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_solicitar=False button_indeferido=True button_whastApp=True %}
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_solicitar=False button_indeferido=True button_whastApp=True %}
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_solicitar=False button_indeferido=True button_whastApp=True %}
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_solicitar=False button_indeferido=True button_whastApp=True %}
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_solicitar=False button_indeferido=True button_whastApp=True %}
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_solicitar=False button_indeferido=True button_whastApp=True %}
        </div>
        

        <div class="tab-content" id="solicitacoes" style="display: none">
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_indeferido=True edit=False button_solicitar=False button_recusar=True button_aceitar=True %}
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_indeferido=True edit=False button_solicitar=False button_recusar=True button_aceitar=True %}
            {% include "partials/cards.html" with card='agendamento' data=False info_user=False info_user2=True horario2=False button_indeferido=True edit=False button_solicitar=False button_recusar=True button_aceitar=True %}
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const tabItems = document.querySelectorAll('.tab-item');
        const tabContents = document.querySelectorAll('.tab-content');

        // Função para remover classes das abas
        function removeActiveClasses() {
            tabItems.forEach(tabItem => tabItem.classList.remove('active'));
        }

        tabItems.forEach(item => {
            item.addEventListener('click', () => {
                // Remove a classe 'active' de todas as abas
                removeActiveClasses();
                // Oculta todos os conteúdos de abas
                tabContents.forEach(tabContent => tabContent.style.display = 'none');

                // Adiciona a classe 'active' à aba clicada
                item.classList.add('active');
                // Mostra o conteúdo da aba correspondente
                const targetTabId = item.getAttribute('data-tab');
                document.getElementById(targetTabId).style.display = 'block';

                // Definir as cores iniciais
                if (item.getAttribute('data-tab') === 'agendamentos') {
                    document.querySelector('.count-agendamentos').style.backgroundColor = 'var(--green-base)';
                    document.querySelector('.count-agendamentos').style.color = 'var(--background-white)';
                    document.querySelector('.count-solicitacoes').style.backgroundColor = 'var(--yellow-background)';
                    document.querySelector('.count-solicitacoes').style.color = 'var(--black-color)';
                }
            });
        });

        // Exiba os agendamentos por padrão
        document.querySelector('.tab-content-agendamentos').style.display = 'block';
    });
</script>
{% endblock solicitacoes_atendente %}
